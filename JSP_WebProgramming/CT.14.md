# 데이터베이스
> 주요 내용
> - 데이터베이스
> - JDBC

<br>

## 데이터베이스와 DBMS
DBMS란 데이터베이스를 관리하는 시스템을 말한다
- DBMS로는 오라클, MySQL, MS SQL등이 있다

<br>

데이터 손실이 발생하면 안 되기 때문에 **트랙잭션**을 보장한다

<br>

### DBMS 주요 기능
- 데이터의 추가/조회/변경/삭제
- 데이터의 무결성 유지
- 트랜잭션 관리
- 데이터의 백업 및 복원
- 데이터 보안

<br>

## 테이블과 레코드
- 테이블 : RDBMS에서 데이터를 저장하는 장소
- 스키마 : 테이블 구조와 관련된 정보

<br>

### 스키마 예제
아래의 예제는 회원 정보를 저장하는 테이블의 스키마 예제이다
| 칼럼 이름 | 칼럼 타입 | 길이 |
|-------|-------|--------|
|MEMBERID | VARCHAR | 10|
| PASSWORD | VARCHAR | 10 |
|NAME | VARCHAR | 10 |

<br>

## Primary Key와 Index
### Primary Key
레코드를 미리 특정 값을 이용해서 정렬하여 좀 더 빠르게 레코드를 찾을 수 있게 해준다
<br>
Primary Key 칼럼은 하나의 테이블에 저장된 모든 레코드가 서로 다른 값을 갖는 칼럼을 의미한다

<br>

### Index
인덱스는 데이터의 순서를 미리 정렬해서 저장할 때 사용된다
- 예시 : 도서관은 보통 책의 이름에 따라서 위치를 정리하는데, 그렇게 함으로써 사람들이 책 이름으로 쉽게 책의 위치를 찾을 수 있도록 한다

> Primary Key도 Index의 일종이다 Index는 중복된 값에 대한 정렬이 가능하지만 Primary Key는 중복된 값을 가질 수 없다는 차이가 있다

<br>

## JDBC
### JDBC의 구조
<img width="693" alt="스크린샷 2022-09-13 오후 5 40 05" src="https://user-images.githubusercontent.com/103838236/189854529-06bdd60f-3d8a-4fca-839a-a02532f0f47f.png">

<br>

### JDBC의 전형적인 실행 순서
- JDBC 드라이버 로딩
- 데이터베이스 커넥션 구함
- 쿼리 실행을 위한 Statement 객체 생성
- 쿼리 실행
- 쿼리 실행 결과 사용
- Statement 종료
- 데이터베이스 커넥션 종료

<br>

## 커넥션 풀 
데이터베이스 작업이 필요할 때마다 커넥션을 생성하게 되면 JSP 페이지를 실행할 때마다 커넥션을 생성하고 닫는 데 시간이 소모되기 때문에 성능이 낮아진다
<br>

이 때 성능 문제를 해결하기 위해 커넥션 풀 기법을 사용한다

<br>

### 커넥션 풀이란
데이터베이스와 연결된 커넥션을 미리 만들어서 풀(pool)속에 저장해 두고 있다가 필요할 때에 커넥션을 풀에서 가져다 쓰고 다시 풀에 반환하는 기법

<br>

### 커넥션 풀의 특징
- 풀 속에 미리 커넥션이 생성되어 있기 때문에 커넥션을 생성하는 데 드는 연결 시간을 줄일 수 있다
- 커넥션을 계속해서 재사용하기 때문에 생성되는 커넥션 수가 일정하다



















