# 락 프리 알고리즘
> lock free 알고리즘에 대해 알아봅시다
<br>


## lock free 알고리즘이란
락 프리 알고리즘이란 여러 개의 스레드에서 동시에 호출했을 때에도 정해진 단위 시간마다 적어도 한 개의 호출이 완료되는 알고리즘

<br>

## lock free 알고리즘의 조건
- 멀티 스레드에서 동시 호출해도 정확한 결과를 만들어주는 알고리즘
  - 멀티 스레드에서 제대로 동작하지 않는 `queue`, `vector`, `map` 등은 해당되지 않는다
- non blocking 알고리즘
  - 스레드가 어떠한 상황이라도 호출되는 알고리즘
  - 다른 스레드에서 메소드를 실행해도 상관없이 호출이 완료 되어야 한다
- 호출이 다른 스레드와 충돌하였을 경우 적어도 하나의 승자가 있어서, 승자는 delay 없이 완료된다
  - 스레드 100개가 충돌하면 99개는 기다리더라도 적어도 1개는 delay 없이 끝나야 한다

<br>

## CAS
- CAS 없이는 대부분의 non blocking 알고리즘들을 구현할 수 없다
- **CAS를 사용하면 모든 싱글 스레드 알고리즘들을 lock free 알고리즘으로 변환할 수 있다**
- lock free 알고리즘의 핵심 
<br>

`cas(&a, old, new);` 형태로 사용한다
<br>

- a의 값이 old면 new로 바꾸고 true를 리턴한다
