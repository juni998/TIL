# 쿠키와 세션
> JSP 웹 프로그래밍 도서를 통해 쿠키와 세션을 공부하고, 사용하는 이유와 차이점 등등에 대해 알아봅시다

<br>

## 쿠키와 세션을 사용하는 이유 
HTTP Protocol의 특징이자 약점을 보완하기 위해 사용한다

<br>

### Connectionless Protocol (비 연결지향)
- 클라이언트가 서버에 요청했을때 그 요청에 맞는 응답을 보낸 후 연결을 끊는 처리방식

<br>

### Stateless Protocol (상태정보 유지X)
- 클라이언트의 상태정보를 가지지 않는 서버 처리방식
- 클라이언트와 첫 번째 통신에서 데이터를 주고 받았다 해도 두 번째 통신에서 이전 데이터를 유지하지 않는다

<br>

### 쿠키와 세션을 사용하는 이유
#### Stateless 대처하기 위해
- 데이터의 유지가 필요한 경우가 많다
  - 페이지 이동할 때마다 로그인을 다시 하거나, 장바구니에서 상품을 선택 후 결제 단계에서 상품의 정보가 사라질 수 있다

<br>

#### Connectionless를 대처하기 위해
- 서버와 클라이언트 통신시 통신이 연속적으로 이어지지 않고, 한번 통신 후 끊어지게 된다
  - 서버는 클라이언트가 누구인지 계속 인증을 해야하고 이는 웹 페이지의 속도를 저하시킨다

<br>

> 즉 클라이언트와 서버 통신시 정보를 유지하기 위해 사용하는 것이 쿠키와 세션이다

<br>

## 쿠키와 세션의 차이
| 구분 | 쿠키 | 세션 |
| ---- | ---- | -- |
| 저장위치 | 클라이언트(로컬) | 서버|
| 라이프 사이클(만료 시점) | 쿠키 저장시 설정 (브라우저가 종료 되더라도 만료 시점이 지나지 않으면 삭제되지 않음 | 브라우저 종료시 삭제 (기간 지정도 가능) |
| 보안 | 로컬에 저장되어 탈취, 변조 위험 존재 (비교적 취약) | 서버에 저장되므로 비교적 안전 |
| 속도 | 비교적 빠름 | 제공받은 Session ID를 이용하여 서버에서 다시 데이터를 참조해야 하므로 비교적 느림 |

<br>

- 세션은 쿠키에 비해 보안이 높지만 서버 자원을 사용하기 때문에 사용자가 많을 경우 소모되는 자원이 상당하다
- 이러한 관리 차원에서 쿠키와 세션을 적절히 병행하여 사용하면 서버 자원 낭비를 줄이고, 웹 사이트의 속도를 높일 수 있다
